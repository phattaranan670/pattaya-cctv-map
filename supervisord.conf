[supervisord]
nodaemon=true

# PROCESS 1: APACHE/PHP (Port 80)

[program:apache]
command=/usr/sbin/apache2ctl -D FOREGROUND
user=root
autostart=true
autorestart=true
priority=10

# PROCESS 2: PYTHON/YOLO API (Port 5000)

[program:python_api]
# ⚠️ สมมติว่า server.py ใช้ Flask/FastAPI และมีตัวแปร app 
# ถ้าไม่ใช่ ให้เปลี่ยนเป็น: command=python3 /var/www/html/server.py
command=gunicorn -w 1 -b 0.0.0.0:5000 server:app
user=root
autostart=true
autorestart=true
priority=20
